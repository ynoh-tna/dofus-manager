# Dofus Window Manager

*[English version below](#english-version)*

---

## Version FranÃ§aise ğŸ‡«ğŸ‡·

### ğŸ® Gestionnaire de FenÃªtres Dofus

Un **gestionnaire multi-instances lÃ©ger** pour Dofus, conÃ§u avec **Python + PyQt6**.

Renommez, organisez et basculez entre plusieurs fenÃªtres Dofus instantanÃ©ment â€” optimisÃ© pour les **workflows au clavier** et l'**automatisation sans latence**.

#### ğŸš€ FonctionnalitÃ©s

* âš¡ **Renommage instantanÃ© des fenÃªtres**
* ğŸ” **Cycle entre les fenÃªtres Dofus** (avant/arriÃ¨re)
* ğŸ–¥ï¸ **Basculer les espaces de travail** avec une seule touche
* ğŸ“ **Gestion des profils** â€” sauvegardez/chargez diffÃ©rentes configurations
* ğŸ§  **GÃ©nÃ©rateur de scripts automatique** â€” crÃ©e les scripts shell pour chaque action
* ğŸª¶ **Interface PyQt6 minimaliste et rapide**
* ğŸŒ **Support multilingue** â€” basculez entre franÃ§ais et anglais
* ğŸ¯ ConÃ§u pour les **power users** â€” support complet des raccourcis clavier

#### ğŸ“‹ Structure du Projet

```
dofus_window_manager/
â”œâ”€â”€ main.py                    # Point d'entrÃ©e de l'application
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ config.py              # Configuration centralisÃ©e et chemins des fichiers
â”‚   â”œâ”€â”€ scripts.py             # GÃ©nÃ©ration automatique des scripts shell
â”‚   â”œâ”€â”€ workspace.py           # Gestion des espaces de travail (wmctrl)
â”‚   â”œâ”€â”€ utils.py               # Utilitaires (exÃ©cution, permissions)
â”‚   â”œâ”€â”€ i18n.py                # SystÃ¨me de localisation (FR/EN)
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ main_window.py         # FenÃªtre principale (PyQt6)
â”‚   â”œâ”€â”€ widgets.py             # Widgets personnalisÃ©s (liste draggable)
â”‚   â”œâ”€â”€ theme.py               # ThÃ¨me sombre moderne
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ extensions/
â”‚   â”œâ”€â”€ overlay.py             # Placeholder pour overlay futur
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

#### ğŸ“– Description des Fichiers ClÃ©s

**`core/config.py`**
Configuration centralisÃ©e : chemins des fichiers de configuration, profils, scripts. GÃ¨re le chargement/sauvegarde JSON.

**`core/scripts.py`**
GÃ©nÃ¨re dynamiquement les scripts bash exÃ©cutables. Chaque script utilise `wmctrl` et `xdotool` pour contrÃ´ler les fenÃªtres.

**`core/i18n.py`**
SystÃ¨me de localisation complet. Maintient les dictionnaires de traductions FR/EN et gÃ¨re la sauvegarde de la langue prÃ©fÃ©rÃ©e.

**`core/workspace.py`**
RÃ©cupÃ¨re la liste des espaces de travail via `wmctrl -d`.

**`ui/main_window.py`**
CÅ“ur de l'interface PyQt6 : dialogues, gestion des profils, gÃ©nÃ©ration des scripts, notifications de statut.

**`ui/widgets.py`**
Liste personnalisÃ©e avec drag & drop pour rÃ©organiser l'ordre d'initiative.

**`ui/theme.py`**
ThÃ¨me sombre moderne avec support des couleurs et effets de survol.

#### âš™ï¸ PrÃ©requis

* **Python 3.10+**
* **PyQt6**
* **wmctrl** et **xdotool** (utilitaires Linux de contrÃ´le de fenÃªtres)

Installation des dÃ©pendances :

```bash
python3 -m venv venv
source venv/bin/activate
pip install PyQt6
sudo apt install wmctrl xdotool
```

#### ğŸ’¡ Utilisation

##### 1. Lancer l'application

```bash
python3 main.py
```

##### 2. Configurer vos fenÃªtres Dofus

* Ajoutez ou modifiez les noms de classes
* DÃ©finissez l'ordre d'initiative
* Sauvegardez votre configuration en tant que profil

##### 3. GÃ©nÃ©rer les scripts

Cliquez sur **"GÃ©nÃ©rer Tous les Scripts"** pour crÃ©er :

* `cycle_forward.sh` â€” Cycle avant
* `cycle_backward.sh` â€” Cycle arriÃ¨re
* `rename_windows.sh` â€” Renomme les fenÃªtres
* `reorganize_windows.sh` â€” RÃ©organise les fenÃªtres
* `click_cycle_forward.sh` â€” Clic + cycle
* `toggle_workspace.sh` â€” Bascule d'espace de travail

##### 4. Lier les touches (optionnel)

Liez les scripts gÃ©nÃ©rÃ©s Ã  vos touches prÃ©fÃ©rÃ©es :

```bash
# Exemple avec openbox (~/.config/openbox/rc.xml)
<keybind key="F2">
  <action name="Execute">
    <command>~/.config/dofus_window_manager/scripts/cycle_forward.sh</command>
  </action>
</keybind>
```

##### 5. Compiler l'application (optionnel)

```bash
pip install pyinstaller
pyinstaller --noconsole --onefile main.py
```

Ou crÃ©er un lanceur desktop :

```bash
nano ~/.local/share/applications/dofus_manager.desktop
```

```ini
[Desktop Entry]
Name=Dofus Manager
Exec=~/path/to/dist/main
Icon=~/path/to/icon.png
Type=Application
Categories=Utility;
Terminal=false
```

```bash
chmod +x ~/.local/share/applications/dofus_manager.desktop
```

#### ğŸ“ Notes

* Application optimisÃ©e pour **Linux** (testÃ©e sur Linux Mint Cinnamon 22)
* L'interface est principalement pour la configuration
* L'utilisation quotidienne devrait reposer sur les **raccourcis clavier** ou macros externes
* Les scripts sont indÃ©pendants et peuvent Ãªtre exÃ©cutÃ©s directement

#### ğŸŒ Changement de Langue

AccÃ©dez aux paramÃ¨tres pour basculer entre franÃ§ais et anglais. La langue est sauvegardÃ©e automatiquement.

#### ğŸ“„ Licence

MIT License
